
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../exceptions/">
      
      
        <link rel="next" href="../developments/">
      
      
      <link rel="icon" href="../images/Logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.23">
    
    
      
        <title>Examples - CAMEO</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../style.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CAMEO" class="md-header__button md-logo" aria-label="CAMEO" data-md-component="logo">
      
  <img src="../images/Logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CAMEO
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Examples
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CAMEO" class="md-nav__button md-logo" aria-label="CAMEO" data-md-component="logo">
      
  <img src="../images/Logo.png" alt="logo">

    </a>
    CAMEO
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to CAMEO
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configure-a-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure a server
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../control-the-apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control the apps
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../make-the-apps-communicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Make the apps communicate
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../synchronization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synchronization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../track-the-app-failures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Track the app failures
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-the-proxies-with-a-firewall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use the proxies with a firewall
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Examples
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requesterresponder" class="md-nav__link">
    <span class="md-ellipsis">
      Requester/Responder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Requester/Responder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C++
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mixing-languages" class="md-nav__link">
    <span class="md-ellipsis">
      Mixing languages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Remote execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishersubscriber" class="md-nav__link">
    <span class="md-ellipsis">
      Publisher/Subscriber
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Publisher/Subscriber">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java_1" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c_1" class="md-nav__link">
    <span class="md-ellipsis">
      C++
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    <span class="md-ellipsis">
      Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mixing-languages_1" class="md-nav__link">
    <span class="md-ellipsis">
      Mixing languages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-execution_1" class="md-nav__link">
    <span class="md-ellipsis">
      Remote execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developments
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requesterresponder" class="md-nav__link">
    <span class="md-ellipsis">
      Requester/Responder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Requester/Responder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C++
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mixing-languages" class="md-nav__link">
    <span class="md-ellipsis">
      Mixing languages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Remote execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishersubscriber" class="md-nav__link">
    <span class="md-ellipsis">
      Publisher/Subscriber
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Publisher/Subscriber">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java_1" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c_1" class="md-nav__link">
    <span class="md-ellipsis">
      C++
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    <span class="md-ellipsis">
      Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mixing-languages_1" class="md-nav__link">
    <span class="md-ellipsis">
      Mixing languages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-execution_1" class="md-nav__link">
    <span class="md-ellipsis">
      Remote execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Examples</h1>

<p>The source package comes up with examples in the different languages. The current page is showing how to run them in Linux.<br />
The end of the page shows rapidly how to run on Windows.</p>
<h2 id="setup">Setup</h2>
<h3 id="linux">Linux</h3>
<p>The Java, C++ and Python examples can be run using either <em>jzmq</em> or <em>jeromq</em>.</p>
<p>Open a shell and go to the CAMEO <strong>root</strong> directory.</p>
<p>Set the <em>PATH</em> variable so that the C++ programs are found:
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>export PATH=build/examples/cpp:build/cpp/proxy:$PATH
</span></code></pre></div></p>
<p>If necessary, set the <em>PYTHONPATH</em> variable so that the <em>cameopy</em> module is found e.g.:
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>export PYTHONPATH=/path/to/install/lib/python3/dist-packages:$PYTHONPATH
</span></code></pre></div>
You may have to verify that <em>python</em> is defined (install <em>python-is-python3</em> package on Ubuntu).</p>
<p>Select <em>jzmq</em> <strong>or</strong> <em>jeromq</em> Java library.</p>
<p>Case <em>jzmq</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>export CLASSPATH=examples/java/jzmq/target/cameo-examples-jzmq-full.jar
</span></code></pre></div></p>
<p>You shall define the variable <em>LD_LIBRARY_PATH</em> so that <em>libjzmq.so</em> is found:
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>export LD_LIBRARY_PATH=/path/to/libjzmq
</span></code></pre></div>
Start the cameo server with the examples configuration:
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>java eu.ill.cameo.server.Server examples/config.xml --log-console
</span></code></pre></div></p>
<p>In each new shell, create the alias for <em>cmo</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>alias cmo=&quot;java -jar java/console/jzmq/target/cameo-console-jzmq-3.0.0-full.jar&quot;
</span></code></pre></div></p>
<p>Case <em>jeromq</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>export CLASSPATH=examples/java/jeromq/target/cameo-tests-jeromq-full.jar
</span></code></pre></div></p>
<p>In each new shell, create the alias for <em>cmo</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>alias cmo=&quot;java -jar java/console/jeromq/target/cameo-console-3.0.0-full.jar&quot;
</span></code></pre></div></p>
<h3 id="windows">Windows</h3>
<p>Open a standard prompt and go to the CAMEO <strong>root</strong> directory. Then set the <em>PATH</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>set PATH=build\examples\cpp\Release;build\cpp\proxy\Release;%PATH%
</span></code></pre></div></p>
<p>Set the <em>CLASSPATH</em> to use <em>jeromq</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>set CLASSPATH=tests\java\jeromq\target\cameo-tests-jeromq-full.jar
</span></code></pre></div></p>
<p>If necessary, set the <em>PYTHONPATH</em> variable so that the <em>cameopy</em> module is found e.g.:
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>set PYTHONPATH=build\python\api\Release;%PYTHONPATH%
</span></code></pre></div></p>
<p>Run the server:
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>java eu.ill.cameo.server.Server examples\config.xml --log-console
</span></code></pre></div></p>
<p>In each new prompt or shell, create the alias for <em>cmo</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>doskey cmo=java -jar java\console\jeromq\target\cameo-console-jeromq-3.0.0-full.jar $*
</span></code></pre></div></p>
<h2 id="requesterresponder">Requester/Responder</h2>
<h3 id="java">Java</h3>
<p>The requester/responder in Java can be tested.</p>
<p>Start the responder app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>cmo -p 11000 exec responder-java
</span></code></pre></div>
Execute the requester app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>cmo -p 11000 exec requester-java tcp://localhost:11000 java &quot;a message&quot; 10
</span></code></pre></div>
The requester app is sending 10 requests to the responder, receives the responses and then stops. Notice that the responder app also stops. Indeed the requester app stops itself the responder app.</p>
<p>Now relaunch the requester app without relaunching the responder app. The requester app is also sending and receiving messages from the responder app. Indeed the responder app has been started by the requester app because it was not running.</p>
<p>This example shows that by a single entry point (the console), the requester and responder apps start and communicate without losing any request and terminate synchronously.</p>
<p>Code is available:</p>
<ul>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/java/src/fr/ill/ics/cameo/examples/ResponderApp.java">Java Responder</a></li>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/java/src/fr/ill/ics/cameo/examples/RequesterApp.java">Java Requester</a></li>
</ul>
<h3 id="c">C++</h3>
<p>The requester/responder in C++ can be tested in the same way by replacing <em>java</em> with <em>cpp</em>.
Start the responder in a shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>cmo -p 11000 exec responder-cpp
</span></code></pre></div>
Execute the requester app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>cmo -p 11000 exec requester-cpp tcp://localhost:11000 cpp &quot;a message&quot; 10
</span></code></pre></div>
Same comments as for Java.</p>
<p>Code is available:</p>
<ul>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/cpp/src/ResponderApp.cpp">C++ Responder</a></li>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/cpp/src/RequesterApp.cpp">C++ Requester</a></li>
</ul>
<h3 id="python">Python</h3>
<p>The requester/responder in Python can be tested in the same way by replacing <em>cpp</em> with <em>python</em>.
Start the responder in a shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>cmo -p 11000 exec responder-python
</span></code></pre></div>
Execute the requester app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>cmo -p 11000 exec requester-python tcp://localhost:11000 python &quot;a message&quot; 10
</span></code></pre></div>
Same comments as for Java.</p>
<p>Code is available:</p>
<ul>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/python/src/responderapp.py">Python Responder</a></li>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/python/src/requesterapp.py">Python Requester</a></li>
</ul>
<h3 id="mixing-languages">Mixing languages</h3>
<p>You can mix the languages e.g. <em>cpp</em> with <em>python</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>cmo -p 11000 exec requester-python tcp://localhost:11000 cpp &quot;a message&quot; 10
</span></code></pre></div></p>
<h3 id="remote-execution">Remote execution</h3>
<p>You can also execute the last example in three different computers:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>cmo -e tcp://computer-a:11000 exec requester-python tcp://computer-b:11000 cpp &quot;a message&quot; 10
</span></code></pre></div>
<p>The console <em>cmo</em> application is executing <em>requester-python</em> on <em>computer-a</em> which interacts with <em>responder-cpp</em> executing on <em>computer-b</em>.</p>
<p>Here again, this example shows that by a single entry point (the console), the requester and responder apps start and communicate on two computers without losing any request and terminate synchronously.</p>
<h2 id="publishersubscriber">Publisher/Subscriber</h2>
<h3 id="java_1">Java</h3>
<p>The publisher/subscriber in Java can be tested.
Start the publisher app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>cmo -p 11000 exec publisher-java
</span></code></pre></div>
Execute the subscriber app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>cmo -p 11000 exec subscriber-java tcp://localhost:11000 java
</span></code></pre></div></p>
<p>The publisher app is waiting for 1 subscriber before starting to send messages.
The subscriber app connects to the publisher app which triggers the sending of the messages.
The subscriber app is killed with <em>ctl-c</em> but the publisher app is still running so that you have to kill it also with <em>ctl-c</em>.</p>
<p>Now relaunch the subscriber app without relaunching the publisher app. The publisher is started in background and the messages are sent from the publisher to the requester.
If you kill the subscriber app with <em>ctl-c</em> then the publisher is also killed. That is because the publisher app is linked to its starter. You can also properly stop the subscriber app. To do it type <em>shift+s</em> in the console and press enter. In that case the subscriber app is stopping the publisher app which terminates properly.</p>
<p>This example shows that by a single entry point (the console), the subscriber and publisher apps start and communicate without losing any message and terminate synchronously.</p>
<p>Code is available:</p>
<ul>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/java/src/fr/ill/ics/cameo/examples/PublisherApp.java">Java Publisher</a></li>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/java/src/fr/ill/ics/cameo/examples/SubscriberApp.java">Java Subscriber</a></li>
</ul>
<h3 id="c_1">C++</h3>
<p>The publisher/subscriber in C++ can be tested in the same way by replacing <em>java</em> with <em>cpp</em>.
Start the publisher in a shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>cmo -p 11000 exec publisher-cpp
</span></code></pre></div>
Execute the subscriber app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>cmo -p 11000 exec subscriber-cpp tcp://localhost:11000 cpp
</span></code></pre></div>
Same comments as for Java.</p>
<p>Code is available:</p>
<ul>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/cpp/src/PublisherApp.cpp">C++ Publisher</a></li>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/cpp/src/SubscriberApp.cpp">C++ Subscriber</a></li>
</ul>
<h3 id="python_1">Python</h3>
<p>The publisher/subscriber in Python can be tested in the same way by replacing <em>java</em> with <em>python</em>.
Start the publisher in a shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>cmo -p 11000 exec publisher-python
</span></code></pre></div>
Execute the subscriber app in a new shell:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>cmo -p 11000 exec subscriber-python tcp://localhost:11000 python
</span></code></pre></div>
Same comments as for Java.</p>
<p>Code is available:</p>
<ul>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/python/src/publisherapp.py">Python Publisher</a></li>
<li><a href="https://github.com/ILLGrenoble/cameo/blob/cmake-review-cppzmq/examples/python/src/subscriberapp.py">Python Subscriber</a></li>
</ul>
<h3 id="mixing-languages_1">Mixing languages</h3>
<p>You can mix the langagues e.g. <em>cpp</em> with <em>python</em>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>cmo -p 11000 exec subscriber-python tcp://localhost:11000 cpp
</span></code></pre></div></p>
<h3 id="remote-execution_1">Remote execution</h3>
<p>You can also execute the last example in three different computers:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>cmo -e tcp://computer-a:11000 exec subscriber-python tcp://computer-b:11000 cpp
</span></code></pre></div>
<p>The console <em>cmo</em> application is executing <em>subscriber-python</em> on <em>computer-a</em> which interacts with <em>publisher-cpp</em> executing on <em>computer-b</em>.</p>
<p>Here again, this example shows that by a single entry point (the console), the subscriber and publisher apps start and communicate on two computers without losing any request and terminate synchronously.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ebd0bdb7.min.js"></script>
      
    
  </body>
</html>